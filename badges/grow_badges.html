<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>badges</title>
    <style>
        /*html,*/
        /*body {*/
            /*width: 100%;*/
            /*height: 100%;*/
            /*!*overflow: hidden;*!*/
            /*top: 0;*/
            /*left: 0;*/
            /*margin: 0;*/
            /*padding: 0;*/
        /*}*/
    </style>
</head>
<body>



    <script src="vendor/dat.gui.min.js"></script>
    <script src="../utils/Point.js"></script>
    <script src="../utils/geomUtils.js"></script>
    <script src="../utils/Graphics.js"></script>
    <script src="../utils/earcut.js"></script>
    <script src="../utils/Delaunator.js"></script>
    <script src="../utils/hull.js"></script>
    <script src="../utils/voronoi.js"></script>
    <script src="../utils/noise.js"></script>
    <script src="../utils/PRNG.js"></script>
    <script src="../utils/distributions.js"></script>
    <script src="../utils/D3.js"></script>

    <script src="circle.js"></script>
    <script>

        function distance( a,b ){
            var dx = a.x - b.x;
            var dy = a.y - b.y;
            return Math.sqrt( dx*dx+dy*dy );
        }

        function angle( a,b ){
            var dx = a.x - b.x;
            var dy = a.y - b.y;
            return Math.atan2( dy,dx );
        }


        function areaABC( a,b,c ){
            var side1 = getDistance(a,b)
            var side2 = getDistance(b,c)
            var side3 = getDistance(c,a)
            var perimeter = (side1 + side2 + side3)/2;
            return Math.sqrt(perimeter*((perimeter-side1)*(perimeter-side2)*(perimeter-side3)));
        }

        var PI = Math.PI;
        var HPI = PI / 2;
        var PI2 = PI * 2;
        var RAD = PI / 180;
        function lerp ( t, a, b ){ return a * (1-t) + b * t; }
        function norm( t, a, b ){return ( t - a ) / ( b - a );}
        function map( t, a0, b0, a1, b1 ){ return lerp( norm( t, a0, b0 ), a1, b1 );}

        var genId = 0;
        var generators = [];

    </script>

    <script src="generators/0.js"></script>
    <script src="generators/1.js"></script>
    <script src="generators/2.js"></script>
    <script src="generators/3.js"></script>
    <script src="generators/4.js"></script>
    <script src="generators/5.js"></script>
    <script src="generators/6.js"></script>
    <script src="generators/7.js"></script>
    <script src="generators/8.js"></script>
    <script src="generators/9.js"></script>

    <script src="generators/10.js"></script>
    <script src="generators/11.js"></script>
    <script src="generators/12.js"></script>
    <script src="generators/13.js"></script>
    <script src="generators/14.js"></script>
    <script src="generators/15.js"></script>
    <script src="generators/16.js"></script>
    <script src="generators/17.js"></script>
    <script src="generators/18.js"></script>
    <script src="generators/19.js"></script>

    <script src="generators/20.js"></script>
    <script src="generators/21.js"></script>
    <script src="generators/22.js"></script>
    <script src="generators/23.js"></script>
    <script src="generators/24.js"></script>
    <script src="generators/25.js"></script>
    <script src="generators/26.js"></script>
    <script src="generators/27.js"></script>
    <script src="generators/28.js"></script>
    <script src="generators/29.js"></script>

    <script src="generators/30.js"></script>
    <script src="generators/31.js"></script>
    <script src="generators/32.js"></script>
    <script src="generators/33.js"></script>
    <script src="generators/34.js"></script>
    <script src="generators/35.js"></script>
    <script src="generators/36.js"></script>
    <script src="generators/37.js"></script>
    <script src="generators/38.js"></script>
    <script src="generators/39.js"></script>

    <script src="generators/40.js"></script>
    <script src="generators/41.js"></script>
    <script src="generators/42.js"></script>
    <script src="generators/43.js"></script>
    <script src="generators/44.js"></script>
    <script src="generators/45.js"></script>
    <script src="generators/46.js"></script>
    <script src="generators/47.js"></script>

    <script src="logo.js"></script>
    <script src="save.js"></script>

    <script>

        var maxGen = --genId;
//        maxGen = 3;
        genId = 45;
        var s = 1000;
        var seed = Date.now();

        var img = new Image();
        img.onload = function(){
            reset();
        };
        img.src= "white_title.png";

        function reset(){

            render( s, seed );

        }

        var gui = new dat.GUI();
        gui.add( window, 's', 1, 4096 ).name( 'size' ).onChange(function () {
            reset();
        });
        gui.add( window, 'seed', 1, 1000000 ).name( 'seed' ).onChange(function () {
            reset();
        });
        gui.add( window, 'genId', 0, maxGen, 1 ).name( 'generator' ).onChange(function () {
            genId = Math.min( maxGen, genId );
            reset();
        });

        function saveAll( ){

            if( typeof save !== 'undefined' ){
                genId = 0;
                saveNext();
            }
        }
        function getNextSeed(){
            return ++seed;
        }
        function saveNext(){
            if( genId > maxGen )return;

//            if( document.getElementById('canvas') !== null ){
//                document.body.removeChild( document.getElementById('canvas') );
//            }

            seed = getNextSeed();
            var ctx = render(s, seed);
            genId++;
            console.log( genId-1, seed, s );
            save(ctx, genId-1, saveNext );

        }

        gui.add( window, 'saveAll' );

        function saveCurrent() {
            var ctx = render(s, seed);
            console.log( genId, seed, s );
            save(ctx, seed );
        }

        gui.add( window, 'saveCurrent' );


        var g = new Graphics();
        g.ctx = g.getContext( s, s );
        document.body.appendChild(g.ctx.canvas);

        function render( s, seed ){

            var unit = 0.001 * s;
            g.ctx.canvas.width  = s;
            g.ctx.canvas.height = s;

            var ctx = g.ctx;
            ctx.fillStyle = "#FFF";
            ctx.fillRect( 0,0,s,s );
            ctx.fillStyle = "#000";
            ctx.lineWidth = unit;
            ctx.canvas.id = "canvas";

            generators[ genId ]( g, ctx, s, seed, unit );

            if( typeof logo !== 'undefined' ) logo( ctx, s );
            return ctx;
        }



    </script>

</body>
</html>